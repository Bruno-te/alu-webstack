#!/usr/bin/env bash

print_subdomain_info() {
    local subdomain=$1
    local domain=$2
    result=$(dig +short A "${subdomain}.${domain}")
    if [ -n "$result" ]; then
        echo "The subdomain $subdomain is a A record and points to $result"
    else
        echo "The subdomain $subdomain has no A record."
    fi
}

main() {
    local domain=$1
    local subdomain=$2

    if [ -z "$domain" ]; then
        echo "Usage: $0 <domain> [subdomain]"
        exit 1
    fi

    if [ -n "$subdomain" ]; then
        print_subdomain_info "$subdomain" "$domain"
    else
        for s in www lb-01 web-01 web-02; do
            print_subdomain_info "$s" "$domain"
        done
    fi
}

main "$@"
